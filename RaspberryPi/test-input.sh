while :
do
  echo "Press <CTRL+C> to exit."
  sleep 1
done
start_time is now

while not button pressed and (now - start_time) < 3:
   sleep for a short time

if button pressed:
   # do button pressed code
else:
   # do timeout code
